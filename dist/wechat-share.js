!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.WechatShare=t():e.WechatShare=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/dist/",t(0)}([function(e,t,n){var i,o,a;!function(n,s){o=[e],i=s,a="function"==typeof i?i.apply(t,o):i,!(void 0!==a&&(e.exports=a))}(this,function(e){"use strict";function t(e){this.config=o,this.init(e|{})}var n=Smart._,i=(Smart.Utils,Smart.Device),o={sdk:"/wechat/?",type:"SDK",jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","onRecordEnd","playVoice","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"],shareData:{appmessage:{title:"",desc:"",img:"",link:""},timeline:{title:"",img:"",link:""}}};t.prototype.jsonUrl=function(e,t){return e||(e="/wechat/?"),t||(t=encodeURIComponent(location.href.replace(/[\#][\s\S]*/,""))),e+"url="+t},t.prototype.setConfig=function(e){var t=this;try{window.wx.config({appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:t.config.jsApiList})}catch(n){}},t.prototype.update=function(){try{var e=this;window.wx.ready(function(){window.wx.onMenuShareAppMessage({title:e.config.shareData.appmessage.title,desc:e.config.shareData.appmessage.desc,link:e.config.shareData.appmessage.link,imgUrl:e.config.shareData.appmessage.img_url,trigger:e.config.shareData.appmessage.trigger,success:e.config.shareData.appmessage.success||function(){},cancel:e.config.shareData.appmessage.cancel||function(){},fail:e.config.shareData.appmessage.fail||function(){}}),window.wx.onMenuShareTimeline({title:e.config.shareData.timeline.title,link:e.config.shareData.timeline.link,imgUrl:e.config.shareData.timeline.img_url,trigger:e.config.shareData.timeline.trigger,success:e.config.shareData.timeline.success||function(){},cancel:e.config.shareData.timeline.cancel||function(){},fail:e.config.shareData.timeline.fail||function(){}})})}catch(t){}},t.prototype.sdkReady=function(e){window.wx?e(window.wx):Smart.Utils.getScript("http://res.wx.qq.com/open/js/jweixin-1.0.0.js",function(){e(window.wx)})},t.prototype.init=function(e){var t=this;t.sdkReady(function(){t.setConfig(e),t.update()})},t.prototype.set=function(){3===arguments.length&&n.isString(arguments[0])&&n.isString(arguments[1])?this.config.shareData[arguments[0]][arguments[1]]=arguments[2]:console.log("[WechatShare] set 函数参数错误")},t.prototype.playSound=function(e,t){function n(){t&&t(e.playing())}var o=this;i.wechat?o.sdkReady(function(t){t.ready(function(){e.play(),n()})}):(e.play(),n())},e.exports=t})}])});
//# sourceMappingURL=wechat-share.js.map