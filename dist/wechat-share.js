!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.WechatShare=n():e.WechatShare=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="/dist/",n(0)}([function(e,n,t){var o,i,a;!function(t,s){i=[e,!function(){var e=new Error('Cannot find module "underscore"');throw e.code="MODULE_NOT_FOUND",e}(),!function(){var e=new Error('Cannot find module "johnny-utils"');throw e.code="MODULE_NOT_FOUND",e}()],o=s,a="function"==typeof o?o.apply(n,i):o,!(void 0!==a&&(e.exports=a))}(this,function(e,n,t){"use strict";function o(e,o){this.config=n.extend(s,o||{}),console.log(this.config);var i=this;t.jsonp(this.config.api,{url:e},function(e){i.init(e)},function(e){console.log(e)})}t=t.default;var i=navigator.userAgent.toLowerCase(),a={wechat:!!RegExp("micromessenger").test(i)},s={api:"",debug:!1,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","onRecordEnd","playVoice","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"],shareData:{appmessage:{title:"",desc:"",img:"",link:""},timeline:{title:"",img:"",link:""}}};o.prototype.setConfig=function(e){var n=this;try{window.wx.config({debug:n.config.debug,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:n.config.jsApiList})}catch(e){}},o.prototype.update=function(){try{var e=this;window.wx.ready(function(){window.wx.onMenuShareAppMessage({title:e.config.shareData.appmessage.title,desc:e.config.shareData.appmessage.desc,link:e.config.shareData.appmessage.link,imgUrl:e.config.shareData.appmessage.img_url,trigger:e.config.shareData.appmessage.trigger,success:e.config.shareData.appmessage.success||function(){},cancel:e.config.shareData.appmessage.cancel||function(){},fail:e.config.shareData.appmessage.fail||function(){}}),window.wx.onMenuShareTimeline({title:e.config.shareData.timeline.title,link:e.config.shareData.timeline.link,imgUrl:e.config.shareData.timeline.img_url,trigger:e.config.shareData.timeline.trigger,success:e.config.shareData.timeline.success||function(){},cancel:e.config.shareData.timeline.cancel||function(){},fail:e.config.shareData.timeline.fail||function(){}})})}catch(e){}},o.prototype.sdkReady=function(e){window.wx?e(window.wx):t.getScript("//res.wx.qq.com/open/js/jweixin-1.2.0.js",function(){e(window.wx)})},o.prototype.init=function(e){var n=this;n.sdkReady(function(){n.setConfig(e),n.update()})},o.prototype.set=function(){3===arguments.length&&n.isString(arguments[0])&&n.isString(arguments[1])?this.config.shareData[arguments[0]][arguments[1]]=arguments[2]:console.log("[WechatShare] set 函数参数错误")},o.prototype.playSound=function(e,n){function t(){n&&n(e.playing())}var o=this;a.wechat?o.sdkReady(function(n){n.ready(function(){e.play(),t()})}):(e.play(),t())},e.exports=o})}])});
//# sourceMappingURL=wechat-share.js.map