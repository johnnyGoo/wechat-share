!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.WechatShare=t():e.WechatShare=t()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="/dist/",t(0)}([function(e,t,i){var n,o,a;!function(i,s){o=[e],n=s,a="function"==typeof n?n.apply(t,o):n,!(void 0!==a&&(e.exports=a))}(this,function(e){"use strict";function t(e){this.config=n,this.init(e)}var i=Smart._,n=(Smart.Utils,{sdk:"/wechat/?",type:"SDK",jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","onRecordEnd","playVoice","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"],shareData:{appmessage:{title:"",desc:"",img:"",link:""},timeline:{title:"",img:"",link:""}}});t.prototype.jsonUrl=function(e,t){return e||(e="/wechat/?"),t||(t=encodeURIComponent(location.href.replace(/[\#][\s\S]*/,""))),e+"url="+t},t.prototype.setConfig=function(e){var t=this;try{window.wx.config({appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:t.config.jsApiList})}catch(i){}},t.prototype.update=function(){try{var e=this;window.wx.ready(function(){window.wx.onMenuShareAppMessage({title:e.config.shareData.appmessage.title,desc:e.config.shareData.appmessage.desc,link:e.config.shareData.appmessage.link,imgUrl:e.config.shareData.appmessage.img_url,trigger:e.config.shareData.appmessage.trigger,success:e.config.shareData.appmessage.success||function(){},cancel:e.config.shareData.appmessage.cancel||function(){},fail:e.config.shareData.appmessage.fail||function(){}}),window.wx.onMenuShareTimeline({title:e.config.shareData.timeline.title,link:e.config.shareData.timeline.link,imgUrl:e.config.shareData.timeline.img_url,trigger:e.config.shareData.timeline.trigger,success:e.config.shareData.timeline.success||function(){},cancel:e.config.shareData.timeline.cancel||function(){},fail:e.config.shareData.timeline.fail||function(){}})})}catch(t){}},t.prototype.sdkReady=function(e){window.wx?e(window.wx):Smart.Utils.getScript("http://res.wx.qq.com/open/js/jweixin-1.0.0.js",function(){e(window.wx)})},t.prototype.init=function(e){var t=this;t.sdkReady(function(){t.setConfig(e)})},t.prototype.set=function(){3===arguments.length&&i.isString(arguments[0])&&i.isString(arguments[1])?this.config.shareData[arguments[0]][arguments[1]]=arguments[2]:console.log("[WechatShare] set 函数参数错误")},e.exports=t})}])});
//# sourceMappingURL=wechat-share.js.map